(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{126:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return c})),t.d(n,"metadata",(function(){return s})),t.d(n,"rightToc",(function(){return m})),t.d(n,"default",(function(){return l}));var a=t(2),r=t(6),i=(t(0),t(218)),o=t(243),c={title:"Commands, Operations and Events Reference",description:"Geocortex Web - Commands, Operations and Events API Reference"},s={unversionedId:"web/api-commands-operations-events",id:"web/api-commands-operations-events",isDocsHomePage:!1,title:"Commands, Operations and Events Reference",description:"Geocortex Web - Commands, Operations and Events API Reference",source:"@site/docs/web/api-commands-operations-events.mdx",permalink:"/docs/web/api-commands-operations-events",editUrl:"https://github.com/geocortex/dev-center/edit/master/docs/web/api-commands-operations-events.mdx",sidebar:"web",previous:{title:"Manage Dynamic Data with a Service",permalink:"/docs/web/tutorial-service-dynamic-data"},next:{title:"Components",permalink:"/docs/web/api-components"}},m=[{value:"Commands",id:"commands",children:[]},{value:"Operations",id:"operations",children:[]},{value:"Events",id:"events",children:[]},{value:"Argument Definitions",id:"argument-definitions",children:[]}],u={rightToc:m};function l(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},u,t,{components:n,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Commands and operations are runnable, independent units of work within Geocortex Web. ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"#commands"}),"Commands")," are units of work which may take an input but do not produce an output, while ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"#operations"}),"operations")," differ because they produce output. You can learn more about commands and operations in our ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/web/configuration-commands-operations"}),"conceptual documentation")),Object(i.b)("p",null,Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"#events"}),"Events")," are distinct, discrete messaging about a change or update that occurs in the viewer. They can be used to initiate behaviors, communicate data changes, and more. Events themselves do not execute behavior, but merely provide messaging so subscribers can act on changes. You can learn more about events in our ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/web/sdk-events-overview"}),"conceptual documentation")),Object(i.b)("h2",{id:"commands"},"Commands"),Object(i.b)(o.a,{product:"web",type:"command",mdxType:"ViewerMessaging"}),Object(i.b)("h2",{id:"operations"},"Operations"),Object(i.b)(o.a,{product:"web",type:"operation",mdxType:"ViewerMessaging"}),Object(i.b)("h2",{id:"events"},"Events"),Object(i.b)(o.a,{product:"web",type:"event",mdxType:"ViewerMessaging"}),Object(i.b)("h2",{id:"argument-definitions"},"Argument Definitions"),Object(i.b)(o.a,{product:"web",type:"argument",mdxType:"ViewerMessaging"}))}l.isMDXComponent=!0},243:function(e,n,t){"use strict";t.d(n,"a",(function(){return j}));var a=t(260),r=t.n(a),i=t(261),o=t(262),c=t(0),s=t.n(c),m=t(231);function u(e){return e.replace("#/definitions/","")}function l(e){return"definition-"+u(e)}function d(e,n){var t=u(e);if(!t.startsWith("esri.rest-api"))return n.definitions[t]}function p(e){var n=e.isArray,t=e.name,a=e.schema,r=u(t),i=d(t,a);return i&&"object"===i.type?s.a.createElement("code",null,s.a.createElement("a",{href:"#"+l(t)},r,n&&"[]")):s.a.createElement("code",null,r,n&&"[]")}function f(e){var n=e.schema,t=e.definition;if("string"==typeof t){var a=d(name,n);console.warn("Couldn't find definition:",t),t=a}if(!t)return s.a.createElement("div",{style:{fontStyle:"italic"}},"There are no arguments");if(t.$ref){var r=d(t.$ref,n);return r&&"object"!==r.type?s.a.createElement(f,{definition:r,schema:n}):s.a.createElement(p,{name:t.$ref,schema:n})}if(t.type){if("string"===t.type&&t.enum){var i=t.enum.map((function(e){return'"'+e+'"'})).join(" | ");return s.a.createElement("code",null,i)}if("array"===t.type&&t.items){var o=function(e){return s.a.createElement(s.a.Fragment,null,e.map((function(e,t){return s.a.createElement("div",{key:e.$ref||t},s.a.createElement(f,{definition:e,schema:n}),"[]")})))};if(Array.isArray(t.items))return o(t.items);if(Array.isArray(t.items.anyOf))return o(t.items.anyOf);if(t.items.$ref){var c=t.items.$ref;return s.a.createElement(p,{isArray:!0,name:c,schema:n})}return s.a.createElement("code",null,t.items.type,"[]")}if("object"===t.type)return s.a.createElement("code",null,"unknown");if(Array.isArray(t.type)){var m=t.type.filter((function(e){return"null"!==e}));return 0===m.length?null:1===m.length?s.a.createElement("code",null,m[0]):s.a.createElement(s.a.Fragment,null,m.map((function(e){return s.a.createElement("div",{key:e},s.a.createElement("code",null,e))})))}return s.a.createElement("code",null,t.type)}if(t.anyOf){var u=t.anyOf.filter((function(e){return!("null"===e.type)}));return s.a.createElement(s.a.Fragment,null,u.length>1&&s.a.createElement("div",null,"Any of:"),u.map((function(e,t){return s.a.createElement("div",{key:e.$ref||t},s.a.createElement(f,{definition:e,schema:n}))})))}return s.a.createElement("code",null,"unknown")}var v=Object(m.a)("h3");function b(e){return!!e.$ref}function h(e){var n,t;return(null==e||null===(n=e.type)||void 0===n?void 0:n.includes("null"))||(null==e||null===(t=e.anyOf)||void 0===t?void 0:t.some(h))}function y(e){var n,t,a=e.schema,r=e.type,i=a.definitions,o=null===(n=i["command"===r?"viewer-spec.SingleCommand":"operation"===r?"viewer-spec.SingleOperation":"viewer-spec.Event"])||void 0===n||null===(t=n.anyOf)||void 0===t?void 0:t.filter(b).map((function(e){return u(e.$ref)}));return o?s.a.createElement(s.a.Fragment,null,o.map((function(e){var n=i[e],t=function(e,n){return n+"-"+e}(e,r),o=i[e+":input"],c=i[e+":output"];return n?s.a.createElement("div",{key:e,className:"margin-bottom--lg"},s.a.createElement(v,{id:t},e),n.description&&s.a.createElement("div",{className:"margin-bottom--md"},n.description),s.a.createElement("div",{className:"margin-bottom--md"},s.a.createElement("div",null,"Argument "+(!0===h(o)?"(optional)":"")),s.a.createElement("div",{className:"margin-left--sm"},s.a.createElement(f,{definition:o,schema:a}))),"operation"===r&&c&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,"Result"),s.a.createElement("div",{className:"margin-left--sm"},s.a.createElement(f,{definition:c,schema:a})))):null}))):null}var g=Object(m.a)("h3");function E(e){var n=e.definitionName,t=e.schema,a=u(n),r=d(n,t);if(!r)return null;if("object"!==r.type)return console.warn("Tried to render definition for non-object type",a),null;var i=l(a);return s.a.createElement("div",{className:"margin-bottom--lg"},s.a.createElement(g,{id:i},a),r.description&&s.a.createElement("div",{className:"margin-bottom--md"},r.description),s.a.createElement("div",null,"Properties"),(!r.properties||0===Object.keys(r.properties).length)&&s.a.createElement("em",null,"This object doesn't currently contain any properties."),r.properties&&s.a.createElement("div",{className:"margin-left--sm"},Object.entries(r.properties).map((function(e){var n,a=e[0],i=e[1];return s.a.createElement("div",{key:a,className:"margin-bottom--md"},s.a.createElement("div",{className:"margin-bottom--sm"},s.a.createElement("code",null,a),(null===(n=r.required)||void 0===n?void 0:n.includes(a))&&s.a.createElement("span",{className:"badge badge--secondary"},"Required")),s.a.createElement("div",{className:"margin-left--sm"},s.a.createElement(f,{definition:i,schema:t}),i.description&&s.a.createElement("div",{className:"margin-top--sm"},i.description)))}))))}function w(e){var n=e.schema,t=Object.entries(n.definitions).reduce((function(e,n){var t,a=n[0],r=n[1];return"object"===r.type?Object.assign({},e,((t={})[a]=r,t)):e}),{});return s.a.createElement("div",null,Object.keys(t).sort((function(e,n){return e.localeCompare(n)})).map((function(e){return s.a.createElement(E,{key:e,definitionName:e,schema:n})})))}function O(e){var n=e.schema,t=e.type;return s.a.createElement(s.a.Fragment,null,"argument"===t&&s.a.createElement(w,{schema:n}),"command"===t&&s.a.createElement(y,{schema:n,type:"command"}),"event"===t&&s.a.createElement(y,{schema:n,type:"event"}),"operation"===t&&s.a.createElement(y,{schema:n,type:"operation"}))}function j(e){return Object(o.a)({children:function(){return s.a.createElement(k,e)}})||null}var x={web:{action:void 0,event:void 0},mobile:{action:void 0,event:void 0}};function k(e){var n=e.product,t=e.type,a=Object(c.useState)(),o=a[0],m=a[1];return Object(c.useEffect)((function(){var e=!1,a="command"===t||"operation"===t?"action":"event"===t?"event":void 0;return Object(i.a)(r.a.mark((function t(){var i,o,c,s,u,l,d,p,f;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a&&!x[n][a]&&(x[n][a]=fetch("https://apps.geocortex.com/webviewer/"+n+"-"+a+".schema.json")),t.next=3,x[n].action;case 3:return i=t.sent,t.next=6,x[n].event;case 6:if(o=t.sent,!e){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,i.clone().json();case 11:return c=t.sent,t.next=14,o.clone().json();case 14:if(s=t.sent,!e){t.next=17;break}return t.abrupt("return");case 17:u={properties:{name:{description:"The name of a command or operation.",type:"string"},arguments:{description:"The arguments for the command or operation.",type:"object"}},required:["name","arguments"],type:"object"},p={description:"An action to execute in the viewer; can be an action name, an action object, or a command chain (https://developers.geocortex.com/docs/"+n+"/configuration-commands-operations/#command-chains). The list of valid action names are the names of the commands and operations listed in this document",anyOf:[d={type:"string"},l={$ref:"#/definitions/viewer-spec.ActionObject"},{items:{anyOf:[d,l]},type:"array"}]},f={definitions:Object.assign({},c.definitions,s.definitions,{"viewer-spec.ActionObject":u,"viewer-spec.Action":p})},m(f);case 23:case"end":return t.stop()}}),t)})))(),function(){e=!0}}),[n]),Object(c.useEffect)((function(){if(o){var e,n=window.decodeURIComponent(window.location.hash);if(n)null===(e=document.getElementById(n.substring(1)))||void 0===e||e.scrollIntoView()}}),[o]),o?s.a.createElement(O,{schema:o,type:t}):s.a.createElement("div",null,"Loading...")}}}]);