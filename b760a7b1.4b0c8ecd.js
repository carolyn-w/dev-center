(window.webpackJsonp=window.webpackJsonp||[]).push([[114],{259:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return l})),r.d(t,"metadata",(function(){return p})),r.d(t,"rightToc",(function(){return d})),r.d(t,"default",(function(){return m}));var i=r(2),n=r(9),a=(r(0),r(294)),c=r(303),s=r(299),o=r(298),l={title:"Create a Service",description:"Geocortex Web - Create a Service for Geocortex Web"},p={id:"web/sdk-services-create",title:"Create a Service",description:"Geocortex Web - Create a Service for Geocortex Web",source:"@site/docs/web/sdk-services-create.mdx",permalink:"/docs/web/sdk-services-create",editUrl:"https://github.com/geocortex/dev-center/edit/master/docs/web/sdk-services-create.mdx",sidebar:"web",previous:{title:"Services Overview",permalink:"/docs/web/sdk-services-overview"},next:{title:"Service Reference",permalink:"/docs/web/sdk-services-reference"}},d=[{value:"Create the Service",id:"create-the-service",children:[]},{value:"Register the Service",id:"register-the-service",children:[]},{value:"Next Steps",id:"next-steps",children:[]}],b={rightToc:d};function m(e){var t=e.components,r=Object(n.a)(e,["components"]);return Object(a.b)("wrapper",Object(i.a)({},b,r,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"Creating a new ",Object(a.b)("a",Object(i.a)({parentName:"p"},{href:"/docs/web/sdk-services-create"}),"custom service")," involves a few important steps:"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},Object(a.b)("a",Object(i.a)({parentName:"li"},{href:"#create-the-service"}),"Create the service source file")),Object(a.b)("li",{parentName:"ol"},Object(a.b)("a",Object(i.a)({parentName:"li"},{href:"#register-the-service"}),"Register the service in your library registration file"))),Object(a.b)("h2",{id:"create-the-service"},"Create the Service"),Object(a.b)("p",null,"Create the service source file in a new folder within the ",Object(a.b)("inlineCode",{parentName:"p"},"src/services")," folder. For example to create a new service called ",Object(a.b)("inlineCode",{parentName:"p"},"ExampleService"),", create a new file called ",Object(a.b)("inlineCode",{parentName:"p"},"ExampleService.ts")," in ",Object(a.b)("inlineCode",{parentName:"p"},"src/services/ExampleService")," with the following content:"),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{className:"language-ts",metastring:'title="src/services/ExampleService.ts"',title:'"src/services/ExampleService.ts"'}),'import { ServiceBase } from "@vertigis/web/services";\n\nexport default class ExampleService extends ServiceBase {}\n')),Object(a.b)("p",null,"If you want your service to be able to serialize and deserialize configuration specific to the service from ",Object(a.b)("inlineCode",{parentName:"p"},"app.json"),", you can extend from ",Object(a.b)("inlineCode",{parentName:"p"},"ConfigurableServiceBase")," instead:"),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{className:"language-ts",metastring:'title="src/services/ExampleService.ts"',title:'"src/services/ExampleService.ts"'}),'import { ServiceModelProperties } from "@vertigis/web/models";\nimport { ConfigurableServiceBase, serializable } from "@vertigis/web/services";\n\ninterface ExampleModelProperties extends ServiceModelProperties {\n    exampleProperty: string;\n}\n\n// highlight-start\n@serializable\nexport default class ExampleService extends ConfigurableServiceBase<\n    ExampleModelProperties\n> {\n    // highlight-end\n    exampleProperty: string;\n}\n')),Object(a.b)("h2",{id:"register-the-service"},"Register the Service"),Object(a.b)("p",null,"Finally we need to register the service with the Geocortex Web service registry so that it is aware of your new service."),Object(a.b)("p",null,"To simplify the module imports, we'll make a new file in the ",Object(a.b)("inlineCode",{parentName:"p"},"ExampleService")," folder called ",Object(a.b)("inlineCode",{parentName:"p"},"index.ts"),". Note that this file is for convenience, and is not required:"),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{className:"language-ts",metastring:'title="src/services/ExampleService/index.ts"',title:'"src/services/ExampleService/index.ts"'}),'export { default } from "./ExampleService";\n')),Object(a.b)("p",null,"Now register your service with the service registry by modifying the ",Object(a.b)("inlineCode",{parentName:"p"},"src/index.ts")," file:"),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{className:"language-ts",metastring:'title="src/index.ts"',title:'"src/index.ts"'}),'import { LibraryRegistry } from "@vertigis/web/config";\n\n// highlight-next-line\nimport ExampleService from "./services/ExampleService";\n\nexport default function (registry: LibraryRegistry) {\n    // ... other item registrations\n\n    // highlight-start\n    registry.registerService({\n        id: "example",\n        getService: (config) => new ExampleService(config),\n        // Use this setting if you want your service to load on\n        // application startup. Defaults to `false`.\n        loadOnStartup: true,\n    });\n    // highlight-end\n}\n')),Object(a.b)("h2",{id:"next-steps"},"Next Steps"),Object(a.b)(o.a,{mdxType:"UseCaseContainer"},Object(a.b)(s.a,{title:"Deploy your Service",description:"Learn how to deploy your custom service",link:Object(c.a)("docs/web/sdk-deployment"),mdxType:"UseCaseCard"}),Object(a.b)(s.a,{title:"Create a Service that Manages Dynamic Data",description:"Follow along with a more in depth service example",link:Object(c.a)("docs/web/tutorial-service-dynamic-data"),mdxType:"UseCaseCard"})))}m.isMDXComponent=!0},296:function(e,t,r){"use strict";r(297)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},297:function(e,t,r){var i=r(18),n=r(19),a=r(24),c=/"/g,s=function(e,t,r,i){var n=String(a(e)),s="<"+t;return""!==r&&(s+=" "+r+'="'+String(i).replace(c,"&quot;")+'"'),s+">"+n+"</"+t+">"};e.exports=function(e,t){var r={};r[e]=t(s),i(i.P+i.F*n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",r)}},298:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var i=r(0),n=r.n(i),a=r(295),c=r.n(a),s=r(125),o=r.n(s);function l(e){var t=e.children;return n.a.createElement("div",{className:c()(o.a.root)},t)}},299:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));r(296);var i=r(304),n=r(0),a=r.n(n),c=r(295),s=r.n(c),o=r(126),l=r.n(o);function p(e){var t=e.title,r=e.description,n=e.link;return a.a.createElement("div",{className:s()("card-demo",l.a.root)},a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"card__header"},a.a.createElement("h3",null,t)),a.a.createElement("div",{className:"card__body"},a.a.createElement("p",null,r)),a.a.createElement("div",{className:"card__footer"},a.a.createElement(i.a,{className:"button button--secondary button--block",to:n},"Get Started"))))}}}]);