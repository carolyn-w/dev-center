(window.webpackJsonp=window.webpackJsonp||[]).push([[15,77,136],{133:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return i})),n.d(t,"default",(function(){return d}));var a=n(1),o=n(9),r=(n(0),n(296)),c={},s={id:"web/snippets/prereqs-custom-code",title:"prereqs-custom-code",description:"-   Download and setup the [Geocortex Web SDK](../sdk-overview.mdx).",source:"@site/docs/web/snippets/prereqs-custom-code.mdx",permalink:"/docs/web/snippets/prereqs-custom-code",editUrl:"https://github.com/geocortex/dev-center/edit/master/docs/web/snippets/prereqs-custom-code.mdx"},i=[],m={rightToc:i};function d(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},m,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Download and setup the ",Object(r.b)("a",Object(a.a)({parentName:"li"},{href:"/docs/web/sdk-overview"}),"Geocortex Web SDK"),"."),Object(r.b)("li",{parentName:"ul"},"Check out the ",Object(r.b)("a",Object(a.a)({parentName:"li"},{href:"/docs/web/sdk-deployment#uploading-custom-code-to-an-app"}),"deployment instructions")," to learn more about deploying custom code to a Geocortex Web App.")))}d.isMDXComponent=!0},137:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return i})),n.d(t,"default",(function(){return d}));var a=n(1),o=n(9),r=(n(0),n(296)),c={},s={id:"web/snippets/framework-components",title:"framework-components",description:"\x3c!-- TODO-API link once available --\x3e",source:"@site/docs/web/snippets/framework-components.mdx",permalink:"/docs/web/snippets/framework-components",editUrl:"https://github.com/geocortex/dev-center/edit/master/docs/web/snippets/framework-components.mdx"},i=[],m={rightToc:i};function d(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},m,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"This example uses Geocortex Web layout components"))))}d.isMDXComponent=!0},174:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return d})),n.d(t,"metadata",(function(){return u})),n.d(t,"rightToc",(function(){return p})),n.d(t,"default",(function(){return b}));var a=n(1),o=n(9),r=(n(0),n(296)),c=(n(301),n(300)),s=n(299),i=n(304),m=n(303),d=(n(133),n(137),{title:"Commands and Operations in Services",description:"Geocortex Web - Learn how to implement and run commands and operations in services"}),u={id:"web/sdk-services-commands-operations",title:"Commands and Operations in Services",description:"Geocortex Web - Learn how to implement and run commands and operations in services",source:"@site/docs/web/sdk-services-commands-operations.mdx",permalink:"/docs/web/sdk-services-commands-operations",editUrl:"https://github.com/geocortex/dev-center/edit/master/docs/web/sdk-services-commands-operations.mdx",sidebar:"web",previous:{title:"Service Reference",permalink:"/docs/web/sdk-services-reference"},next:{title:"Service Injection",permalink:"/docs/web/sdk-services-injecting-services"}},p=[{value:"Running Commands and Operations",id:"running-commands-and-operations",children:[]},{value:"Implementing Commands and Operations",id:"implementing-commands-and-operations",children:[]},{value:"Running Custom Commands",id:"running-custom-commands",children:[]},{value:"Next Steps",id:"next-steps",children:[]}],l={rightToc:p};function b(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"When writing custom services you may want to take advantage of Geocortex Web's large ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/web/api-commands-operations-events"}),"built-in suite of command and operations")," or your own custom commands and operations."),Object(r.b)("h2",{id:"running-commands-and-operations"},"Running Commands and Operations"),Object(r.b)("p",null,"Services can run commands and operations through the ",Object(r.b)("inlineCode",{parentName:"p"},"messages")," property."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'export default class ExampleService extends ServiceBase {\n    protected async someMethod(): Promise<void> {\n        // highlight-next-line\n        const { commands, command, operations, operation } = this.messages;\n\n        // Execute a named, built-in, command.\n        commands.ui.setTheme.execute("dark");\n\n        // Execute a custom command by it\'s string ID. If you are executing\n        // a custom command with arguments, you must provide the correct generic typings.\n        command<string>("my-custom.command-that-takes-a-string").execute(\n            "some arg"\n        );\n\n        // Execute a named, built-in, operation.\n        const opResult = await operations.ui.confirm.execute({\n            message: "hey",\n        });\n\n        // Execute a custom operation by it\'s string ID.\n        // You must provide the correct generic typings <input, output>.\n        const customOpResult = await operation<string, boolean>(\n            "my-custom.operation-that-returns-a-bool"\n        ).execute("some arg");\n\n        return;\n    }\n}\n')),Object(r.b)("h2",{id:"implementing-commands-and-operations"},"Implementing Commands and Operations"),Object(r.b)("p",null,"Services can also register an implementation for a command or operation. A command or operation is registered using the ID of the service and the name of the method on the service that will be called. The following service registers an implementation for an operation that returns a custom type."),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"It's best practice to expose the arguments and return values for commands and operations as public interfaces, as this allows consumers of the command or operation to have the appropriate typing."))),Object(r.b)(i.a,{defaultValue:"service",values:[{label:"Service",value:"service"},{label:"Registration",value:"registration"}],mdxType:"Tabs"},Object(r.b)(m.a,{value:"registration",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'export default function (registry: LibraryRegistry) {\n    ...\n\n    registry.registerService({\n        id: "custom-service",\n        getServiceType: () => CustomService\n    });\n\n    registry.registerOperation("custom.my-operation", {\n        serviceId: "custom-service",\n        // highlight-next-line\n        executeMethodName: "_executeMyOperation",\n    });\n}\n'))),Object(r.b)(m.a,{value:"service",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"export interface CustomCommandArg {\n    someProp: string;\n}\n\nexport default class ExampleService extends ServiceBase {\n    // highlight-next-line\n    protected _executeMyOperation(): Promise<CustomCommandArg> {\n        // ... do work here\n    }\n}\n")))),Object(r.b)("h2",{id:"running-custom-commands"},"Running Custom Commands"),Object(r.b)("p",null,"You can run the custom commands or operations you define from another component, model, or service by locating them by ID and providing the appropriate type arguments."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'export default class ExampleService extends ServiceBase {\n    async runCustomCommandsAndOperations(){\n         // highlight-start\n        await this.messages.command<CustomCommandArg>("custom.my-command").execute({ someProp: "some arg" );\n        // highlight-end\n\n        // highlight-start\n        const result = await this.messages.operation<InputArgType, OutputArgType>("custom.my-operation").execute({\n            some: "arg",\n        });\n        // highlight-end\n        ...\n    }\n    ...\n}\n')),Object(r.b)("h2",{id:"next-steps"},"Next Steps"),Object(r.b)(s.a,{mdxType:"UseCaseContainer"},Object(r.b)(c.a,{title:"Learn about Service Interactions",description:"Learn about how services can directly interact through dependency injection",link:"sdk-services-injecting-services",mdxType:"UseCaseCard"}),Object(r.b)(c.a,{title:"Build a Custom Command with a Custom Service",description:"Follow a step by step guide to building a custom command with a custom service",link:"tutorial-implement-command-operation",mdxType:"UseCaseCard"})))}b.isMDXComponent=!0},298:function(e,t,n){"use strict";var a=n(0),o=n(51);t.a=function(){return Object(a.useContext)(o.a)}},299:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(0),o=n.n(a),r=n(297),c=n.n(r),s=n(130),i=n.n(s);function m(e){var t=e.children;return o.a.createElement("div",{className:c()(i.a.root)},t)}},300:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n(306);var a=n(305),o=n(0),r=n.n(o),c=n(297),s=n.n(c),i=n(131),m=n.n(i);function d(e){var t=e.title,n=e.description,o=e.link;return r.a.createElement("div",{className:s()("card-demo",m.a.root)},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card__header"},r.a.createElement("h3",null,t)),r.a.createElement("div",{className:"card__body"},r.a.createElement("p",null,n)),r.a.createElement("div",{className:"card__footer"},r.a.createElement(a.a,{className:"button button--secondary button--block",to:o},"Get Started"))))}},301:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(307);var a=n(298);function o(e){var t=(Object(a.a)().siteConfig||{}).baseUrl,n=void 0===t?"/":t;if(!e)return e;return/^(https?:|\/\/)/.test(e)?e:e.startsWith("/")?n+e.slice(1):n+e}},302:function(e,t,n){"use strict";var a=n(0),o=Object(a.createContext)({tabGroupChoices:{},setTabGroupChoices:function(){}});t.a=o},303:function(e,t,n){"use strict";var a=n(0),o=n.n(a);t.a=function(e){return o.a.createElement("div",null,e.children)}},304:function(e,t,n){"use strict";n(26),n(21),n(22);var a=n(0),o=n.n(a),r=n(302);var c=function(){return Object(a.useContext)(r.a)},s=n(297),i=n.n(s),m=n(132),d=n.n(m),u=37,p=39;t.a=function(e){var t=e.block,n=e.children,r=e.defaultValue,s=e.values,m=e.groupId,l=c(),b=l.tabGroupChoices,v=l.setTabGroupChoices,h=Object(a.useState)(r),g=h[0],f=h[1];if(null!=m){var O=b[m];null!=O&&O!==g&&f(O)}var j=function(e){f(e),null!=m&&v(m,e)},x=[];return o.a.createElement("div",null,o.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:i()("tabs",{"tabs--block":t})},s.map((function(e){var t=e.value,n=e.label;return o.a.createElement("li",{role:"tab",tabIndex:"0","aria-selected":g===t,className:i()("tab-item",d.a.tabItem,{"tab-item--active":g===t}),key:t,ref:function(e){return x.push(e)},onKeyDown:function(e){return function(e,t,n){switch(n.keyCode){case p:!function(e,t){var n=e.indexOf(t)+1;e[n]?e[n].focus():e[0].focus()}(e,t);break;case u:!function(e,t){var n=e.indexOf(t)-1;e[n]?e[n].focus():e[e.length-1].focus()}(e,t)}}(x,e.target,e)},onFocus:function(){return j(t)},onClick:function(){return j(t)}},n)}))),o.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},a.Children.toArray(n).filter((function(e){return e.props.value===g}))[0]))}}}]);