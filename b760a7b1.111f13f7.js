(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{261:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return l})),r.d(t,"metadata",(function(){return d})),r.d(t,"rightToc",(function(){return p})),r.d(t,"default",(function(){return m}));var i=r(2),a=r(9),c=(r(0),r(297)),n=r(305),s=r(300),o=r(299),l={title:"Create a Service",description:"Geocortex Web - Create a Service for Geocortex Web"},d={id:"web/sdk-services-create",isDocsHomePage:!1,title:"Create a Service",description:"Geocortex Web - Create a Service for Geocortex Web",source:"@site/docs/web/sdk-services-create.mdx",permalink:"/docs/web/sdk-services-create",editUrl:"https://github.com/geocortex/dev-center/edit/master/docs/web/sdk-services-create.mdx",sidebar:"web",previous:{title:"Services Overview",permalink:"/docs/web/sdk-services-overview"},next:{title:"Service Reference",permalink:"/docs/web/sdk-services-reference"}},p=[{value:"Create the Service",id:"create-the-service",children:[]},{value:"Register the Service",id:"register-the-service",children:[]},{value:"Next Steps",id:"next-steps",children:[]}],b={rightToc:p};function m(e){var t=e.components,r=Object(a.a)(e,["components"]);return Object(c.b)("wrapper",Object(i.a)({},b,r,{components:t,mdxType:"MDXLayout"}),Object(c.b)("p",null,"Creating a new ",Object(c.b)("a",Object(i.a)({parentName:"p"},{href:"/docs/web/sdk-services-create"}),"custom service")," involves a few important steps:"),Object(c.b)("ol",null,Object(c.b)("li",{parentName:"ol"},Object(c.b)("a",Object(i.a)({parentName:"li"},{href:"#create-the-service"}),"Create the service source file")),Object(c.b)("li",{parentName:"ol"},Object(c.b)("a",Object(i.a)({parentName:"li"},{href:"#register-the-service"}),"Register the service in your library registration file"))),Object(c.b)("h2",{id:"create-the-service"},"Create the Service"),Object(c.b)("p",null,"Create the service source file in a new folder within the ",Object(c.b)("inlineCode",{parentName:"p"},"src/services")," folder. For example to create a new service called ",Object(c.b)("inlineCode",{parentName:"p"},"ExampleService"),", create a new file called ",Object(c.b)("inlineCode",{parentName:"p"},"ExampleService.ts")," in ",Object(c.b)("inlineCode",{parentName:"p"},"src/services/ExampleService")," with the following content:"),Object(c.b)("pre",null,Object(c.b)("code",Object(i.a)({parentName:"pre"},{className:"language-ts",metastring:'title="src/services/ExampleService.ts"',title:'"src/services/ExampleService.ts"'}),'import { ServiceBase } from "@vertigis/web/services";\n\nexport default class ExampleService extends ServiceBase {}\n')),Object(c.b)("p",null,"If you want your service to be able to serialize and deserialize configuration specific to the service from ",Object(c.b)("inlineCode",{parentName:"p"},"app.json"),", you can extend from ",Object(c.b)("inlineCode",{parentName:"p"},"ConfigurableServiceBase")," instead:"),Object(c.b)("pre",null,Object(c.b)("code",Object(i.a)({parentName:"pre"},{className:"language-ts",metastring:'title="src/services/ExampleService.ts"',title:'"src/services/ExampleService.ts"'}),'import { ServiceModelProperties } from "@vertigis/web/models";\nimport { ConfigurableServiceBase, serializable } from "@vertigis/web/services";\n\ninterface ExampleModelProperties extends ServiceModelProperties {\n    exampleProperty: string;\n}\n\n// highlight-start\n@serializable\nexport default class ExampleService extends ConfigurableServiceBase<\n    ExampleModelProperties\n> {\n    // highlight-end\n    exampleProperty: string;\n}\n')),Object(c.b)("h2",{id:"register-the-service"},"Register the Service"),Object(c.b)("p",null,"Finally we need to register the service with the Geocortex Web service registry so that it is aware of your new service."),Object(c.b)("p",null,"To simplify the module imports, we'll make a new file in the ",Object(c.b)("inlineCode",{parentName:"p"},"ExampleService")," folder called ",Object(c.b)("inlineCode",{parentName:"p"},"index.ts"),". Note that this file is for convenience, and is not required:"),Object(c.b)("pre",null,Object(c.b)("code",Object(i.a)({parentName:"pre"},{className:"language-ts",metastring:'title="src/services/ExampleService/index.ts"',title:'"src/services/ExampleService/index.ts"'}),'export { default } from "./ExampleService";\n')),Object(c.b)("p",null,"Now register your service with the service registry by modifying the ",Object(c.b)("inlineCode",{parentName:"p"},"src/index.ts")," file:"),Object(c.b)("pre",null,Object(c.b)("code",Object(i.a)({parentName:"pre"},{className:"language-ts",metastring:'title="src/index.ts"',title:'"src/index.ts"'}),'import { LibraryRegistry } from "@vertigis/web/config";\n\n// highlight-next-line\nimport ExampleService from "./services/ExampleService";\n\nexport default function (registry: LibraryRegistry) {\n    // ... other item registrations\n\n    // highlight-start\n    registry.registerService({\n        id: "example",\n        getService: (config) => new ExampleService(config),\n        // Use this setting if you want your service to load on\n        // application startup. Defaults to `false`.\n        loadOnStartup: true,\n    });\n    // highlight-end\n}\n')),Object(c.b)("h2",{id:"next-steps"},"Next Steps"),Object(c.b)(o.a,{mdxType:"UseCaseContainer"},Object(c.b)(s.a,{title:"Deploy your Service",description:"Learn how to deploy your custom service",link:Object(n.a)("docs/web/sdk-deployment"),mdxType:"UseCaseCard"}),Object(c.b)(s.a,{title:"Create a Service that Manages Dynamic Data",description:"Follow along with a more in depth service example",link:Object(n.a)("docs/web/tutorial-service-dynamic-data"),mdxType:"UseCaseCard"})))}m.isMDXComponent=!0},299:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var i=r(0),a=r.n(i),c=r(129),n=r.n(c);function s(e){var t=e.children;return a.a.createElement("div",{className:n.a.root},t)}},300:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));r(307);var i=r(306),a=r(0),c=r.n(a),n=r(298),s=r(130),o=r.n(s);function l(e){var t=e.title,r=e.description,a=e.link;return c.a.createElement("div",{className:Object(n.a)("card-demo",o.a.root)},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card__header"},c.a.createElement("h3",null,t)),c.a.createElement("div",{className:"card__body"},c.a.createElement("p",null,r)),c.a.createElement("div",{className:"card__footer"},c.a.createElement(i.a,{className:"button button--secondary button--block",to:a},"Get Started"))))}}}]);