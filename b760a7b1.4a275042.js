(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{259:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return o})),r.d(t,"metadata",(function(){return l})),r.d(t,"rightToc",(function(){return p})),r.d(t,"default",(function(){return b}));var i=r(1),a=r(9),n=(r(0),r(295)),c=r(299),s=r(298),o={title:"Create a Service",description:"Geocortex Web - Create a Service for Geocortex Web"},l={id:"web/sdk-services-create",title:"Create a Service",description:"Geocortex Web - Create a Service for Geocortex Web",source:"@site/docs/web/sdk-services-create.mdx",permalink:"/docs/web/sdk-services-create",editUrl:"https://github.com/geocortex/dev-center/edit/master/docs/web/sdk-services-create.mdx",sidebar:"web",previous:{title:"Services Overview",permalink:"/docs/web/sdk-services-overview"},next:{title:"Service Reference",permalink:"/docs/web/sdk-services-reference"}},p=[{value:"Create the Service",id:"create-the-service",children:[]},{value:"Register the Service",id:"register-the-service",children:[]},{value:"Next Steps",id:"next-steps",children:[]}],d={rightToc:p};function b(e){var t=e.components,r=Object(a.a)(e,["components"]);return Object(n.b)("wrapper",Object(i.a)({},d,r,{components:t,mdxType:"MDXLayout"}),Object(n.b)("p",null,"Creating a new ",Object(n.b)("a",Object(i.a)({parentName:"p"},{href:"/docs/web/sdk-services-create"}),"custom service")," involves a few important steps:"),Object(n.b)("ol",null,Object(n.b)("li",{parentName:"ol"},Object(n.b)("a",Object(i.a)({parentName:"li"},{href:"#create-the-service"}),"Create the service source file")),Object(n.b)("li",{parentName:"ol"},Object(n.b)("a",Object(i.a)({parentName:"li"},{href:"#register-the-service"}),"Register the service in your library registration file"))),Object(n.b)("h2",{id:"create-the-service"},"Create the Service"),Object(n.b)("p",null,"Create the service source file in a new folder within the ",Object(n.b)("inlineCode",{parentName:"p"},"src/services")," folder. For example to create a new service called ",Object(n.b)("inlineCode",{parentName:"p"},"ExampleService"),", create a new file called ",Object(n.b)("inlineCode",{parentName:"p"},"ExampleService.ts")," in ",Object(n.b)("inlineCode",{parentName:"p"},"src/services/ExampleService")," with the following content:"),Object(n.b)("pre",null,Object(n.b)("code",Object(i.a)({parentName:"pre"},{className:"language-ts",metastring:'title="src/services/ExampleService.ts"',title:'"src/services/ExampleService.ts"'}),'import { ServiceBase } from "@geocortex/web/services";\n\nexport default class ExampleService extends ServiceBase {}\n')),Object(n.b)("p",null,"If you want your service to be able to serialize and deserialize configuration specific to the service from ",Object(n.b)("inlineCode",{parentName:"p"},"app.json"),", you can extend from ",Object(n.b)("inlineCode",{parentName:"p"},"ConfigurableServiceBase")," instead:"),Object(n.b)("pre",null,Object(n.b)("code",Object(i.a)({parentName:"pre"},{className:"language-ts",metastring:'title="src/services/ExampleService.ts"',title:'"src/services/ExampleService.ts"'}),'import { ServiceModelProperties } from "@geocortex/web/models";\nimport { ConfigurableServiceBase, serializable } from "@geocortex/web/services";\n\ninterface ExampleModelProperties extends ServiceModelProperties {\n    exampleProperty: string;\n}\n\n// highlight-start\n@serializable\nexport default class ExampleService extends ConfigurableServiceBase<\n    ExampleModelProperties\n> {\n    // highlight-end\n    exampleProperty: string;\n}\n')),Object(n.b)("h2",{id:"register-the-service"},"Register the Service"),Object(n.b)("p",null,"Finally we need to register the service with the Geocortex Web service registry so that it is aware of your new service."),Object(n.b)("p",null,"To simplify the module imports, we'll make a new file in the ",Object(n.b)("inlineCode",{parentName:"p"},"ExampleService")," folder called ",Object(n.b)("inlineCode",{parentName:"p"},"index.ts"),". Note that this file is for convenience, and is not required:"),Object(n.b)("pre",null,Object(n.b)("code",Object(i.a)({parentName:"pre"},{className:"language-ts",metastring:'title="src/services/ExampleService/index.ts"',title:'"src/services/ExampleService/index.ts"'}),'export { default } from "./ExampleService";\n')),Object(n.b)("p",null,"Now register your service with the service registry by modifying the ",Object(n.b)("inlineCode",{parentName:"p"},"src/index.ts")," file:"),Object(n.b)("pre",null,Object(n.b)("code",Object(i.a)({parentName:"pre"},{className:"language-ts",metastring:'title="src/index.ts"',title:'"src/index.ts"'}),'import { LibraryRegistry } from "@geocortex/web/config";\n\n// highlight-next-line\nimport ExampleService from "./services/ExampleService";\n\nexport default function (registry: LibraryRegistry) {\n    // ... other item registrations\n\n    // highlight-start\n    registry.registerService({\n        id: "example",\n        getServiceType: () => ExampleService,\n        // Use this setting if you want your service to load on\n        // application startup. Defaults to `false`.\n        loadOnStartup: true,\n    });\n    // highlight-end\n}\n')),Object(n.b)("h2",{id:"next-steps"},"Next Steps"),Object(n.b)(s.a,{mdxType:"UseCaseContainer"},Object(n.b)(c.a,{title:"Deploy your Service",description:"Learn how to deploy your custom service",link:"sdk-deployment",mdxType:"UseCaseCard"}),Object(n.b)(c.a,{title:"Create a Service that Manages Dynamic Data",description:"Follow along with a more in depth service example",link:"tutorial-service-dynamic-data",mdxType:"UseCaseCard"})))}b.isMDXComponent=!0},298:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var i=r(0),a=r.n(i),n=r(296),c=r.n(n),s=r(130),o=r.n(s);function l(e){var t=e.children;return a.a.createElement("div",{className:c()(o.a.root)},t)}},299:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));r(305);var i=r(304),a=r(0),n=r.n(a),c=r(296),s=r.n(c),o=r(131),l=r.n(o);function p(e){var t=e.title,r=e.description,a=e.link;return n.a.createElement("div",{className:s()("card-demo",l.a.root)},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card__header"},n.a.createElement("h3",null,t)),n.a.createElement("div",{className:"card__body"},n.a.createElement("p",null,r)),n.a.createElement("div",{className:"card__footer"},n.a.createElement(i.a,{className:"button button--secondary button--block",to:a},"Get Started"))))}}}]);