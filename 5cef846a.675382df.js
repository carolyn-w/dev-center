(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{142:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return s})),r.d(t,"metadata",(function(){return l})),r.d(t,"rightToc",(function(){return u})),r.d(t,"default",(function(){return d}));var n=r(2),i=(r(0),r(229)),a=r(230),o=r(235),c=r(236);const s={title:"Create an Activity",description:"Geocortex Workflow - Create a workflow activity for web applications"},l={unversionedId:"workflow/sdk-web-create-activity",id:"workflow/sdk-web-create-activity",isDocsHomePage:!1,title:"Create an Activity",description:"Geocortex Workflow - Create a workflow activity for web applications",source:"@site/docs/workflow/sdk-web-create-activity.mdx",slug:"/workflow/sdk-web-create-activity",permalink:"/docs/workflow/sdk-web-create-activity",editUrl:"https://github.com/geocortex/dev-center/edit/master/docs/workflow/sdk-web-create-activity.mdx",version:"current",sidebar:"workflow",previous:{title:"Geocortex Workflow TypeScript SDK Overview",permalink:"/docs/workflow/sdk-web-overview"},next:{title:"Create a Form Element",permalink:"/docs/workflow/sdk-web-create-element"}},u=[{value:"Prerequisites",id:"prerequisites",children:[]},{value:"Create an Activity",id:"create-an-activity",children:[]},{value:"Deploy the Activity",id:"deploy-the-activity",children:[]},{value:"Test the Activity",id:"test-the-activity",children:[]},{value:"Next Steps",id:"next-steps",children:[]}],p={rightToc:u};function d({components:e,...t}){return Object(i.b)("wrapper",Object(n.a)({},p,t,{components:e,mdxType:"MDXLayout"}),Object(i.b)("p",null,"This article will walk you through creating a new workflow activity for web applications."),Object(i.b)("h2",{id:"prerequisites"},"Prerequisites"),Object(i.b)("p",null,Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/workflow/sdk-web-overview#overview"}),"Set up")," the Geocortex Workflow TypeScript SDK."),Object(i.b)("h2",{id:"create-an-activity"},"Create an Activity"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"Open up a terminal shell in the project folder."),Object(i.b)("li",{parentName:"ol"},"Run the command ",Object(i.b)("inlineCode",{parentName:"li"},"npm run generate")," and follow the instructions to create a new activity named ",Object(i.b)("inlineCode",{parentName:"li"},"MyCustomActivity"),". This script creates a custom activity skeleton that you can build on with your own custom logic. The script will perform the following operations:",Object(i.b)("ol",{parentName:"li"},Object(i.b)("li",{parentName:"ol"},"Create a new activity ",Object(i.b)("inlineCode",{parentName:"li"},".ts")," file with the provided name in the ",Object(i.b)("inlineCode",{parentName:"li"},"src/activities")," folder."),Object(i.b)("li",{parentName:"ol"},"Populate the activity ",Object(i.b)("inlineCode",{parentName:"li"},".ts")," file from an activity template."),Object(i.b)("li",{parentName:"ol"},"Register the activity in ",Object(i.b)("inlineCode",{parentName:"li"},"src/index.ts"),".")))),Object(i.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(i.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"It's convention to use PascalCase for activity names. You can add multiple activities and form elements to the same project.\nThe name of your activity should not be modified after it has been deployed, as it is a unique identifier used by the Workflow runtime."))),Object(i.b)("p",null,"In the Geocortex Workflow TypeScript SDK, activities are represented as simple classes with an ",Object(i.b)("inlineCode",{parentName:"p"},"execute")," method."),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts"}),'// @displayName MyCustomActivity\n// @category Custom Activities\nexport class MyCustomActivity implements IActivityHandler {\n    // Perform the execution logic of the activity.\n    async execute(\n        inputs: MyCustomActivityInputs\n    ): Promise<MyCustomActivityOutputs> {\n        return { result: "test" };\n    }\n}\n')),Object(i.b)("h2",{id:"deploy-the-activity"},"Deploy the Activity"),Object(i.b)("p",null,"Follow the instructions to ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/workflow/sdk-web-overview#deployment"}),"deploy the activity pack"),"."),Object(i.b)("h2",{id:"test-the-activity"},"Test the Activity"),Object(i.b)("p",null,"Once your activity pack is hosted and registered, your custom activity should appear in the activity toolbox in Geocortex Workflow Designer alongside the built-in activities, and can be used in the graphical interface like any other activity."),Object(i.b)("p",null,"Now you can ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://docs.geocortex.com/workflow/latest/help/Default.htm#wf5/help/get-started.htm#Get_Started%3FTocPath%3DGet%2520Started%7C_____0"}),"build a workflow")," that uses your new custom activity!"),Object(i.b)("h2",{id:"next-steps"},"Next Steps"),Object(i.b)(o.a,{mdxType:"UseCaseContainer"},Object(i.b)(c.a,{title:"Calculate a Logarithm with a Custom Activity",description:"Implement a custom activity that calculates the logarithm of a number",link:Object(a.a)("docs/workflow/tutorial-web-calculate-logarithm-activity"),mdxType:"UseCaseCard"}),Object(i.b)(c.a,{title:"Activity Reference",description:"Learn more about implementing custom activities",link:Object(a.a)("docs/workflow/sdk-web-activity-reference"),mdxType:"UseCaseCard"}),Object(i.b)(c.a,{title:"Add a Layer to the Map with a Custom Activity",description:"Access application properties like the map in custom activities for Web Applications",link:Object(a.a)("docs/workflow/tutorial-web-add-layer-to-map"),mdxType:"UseCaseCard"}),Object(i.b)(c.a,{title:"Use the ArcGIS API for JavaScript in an activity.",description:"Use the ArcGIS API for TypeScript in an activity or form element",link:Object(a.a)("docs/workflow/sdk-web-integrating-the-arcgis-api"),mdxType:"UseCaseCard"})))}d.isMDXComponent=!0},229:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return f}));var n=r(0),i=r.n(n);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var l=i.a.createContext({}),u=function(e){var t=i.a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):c(c({},t),e)),r},p=function(e){var t=u(e.components);return i.a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},b=i.a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,a=e.originalType,o=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),p=u(r),b=n,f=p["".concat(o,".").concat(b)]||p[b]||d[b]||a;return r?i.a.createElement(f,c(c({ref:t},l),{},{components:r})):i.a.createElement(f,c({ref:t},l))}));function f(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=r.length,o=new Array(a);o[0]=b;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:n,o[1]=c;for(var l=2;l<a;l++)o[l]=r[l];return i.a.createElement.apply(null,o)}return i.a.createElement.apply(null,r)}b.displayName="MDXCreateElement"},230:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));var n=r(233),i=r(231);function a(){const{siteConfig:{baseUrl:e="/",url:t}={}}=Object(n.a)();return{withBaseUrl:(r,n)=>function(e,t,r,{forcePrependBaseUrl:n=!1,absolute:a=!1}={}){if(!r)return r;if(r.startsWith("#"))return r;if(Object(i.b)(r))return r;if(n)return t+r;const o=r.startsWith(t)?r:t+r.replace(/^\//,"");return a?e+o:o}(t,e,r,n)}}function o(e,t={}){const{withBaseUrl:r}=a();return r(e,t)}},231:function(e,t,r){"use strict";function n(e){return!0===/^(\w*:|\/\/)/.test(e)}function i(e){return void 0!==e&&!n(e)}r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i}))},232:function(e,t,r){"use strict";function n(e){var t,r,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=n(e[t]))&&(i&&(i+=" "),i+=r);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.a=function(){for(var e,t,r=0,i="";r<arguments.length;)(e=arguments[r++])&&(t=n(e))&&(i&&(i+=" "),i+=t);return i}},233:function(e,t,r){"use strict";var n=r(0),i=r(19);t.a=function(){const e=Object(n.useContext)(i.a);if(null===e)throw new Error("Docusaurus context not provided");return e}},234:function(e,t,r){"use strict";var n=r(0),i=r.n(n),a=r(13),o=r(231),c=r(8);const s=Object(n.createContext)({collectLink:()=>{}});var l=r(230),u=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};t.a=function(e){var t,{isNavLink:r,to:p,href:d,activeClassName:b,"data-noBrokenLinkCheck":f}=e,m=u(e,["isNavLink","to","href","activeClassName","data-noBrokenLinkCheck"]);const{withBaseUrl:v}=Object(l.b)(),y=Object(n.useContext)(s),w=p||d,h=Object(o.a)(w),O=null==w?void 0:w.replace("pathname://",""),j=void 0!==O?(e=>e.startsWith("/"))(k=O)?v(k):k:void 0;var k;const g=Object(n.useRef)(!1),C=r?a.e:a.c,N=c.a.canUseIntersectionObserver;let x;Object(n.useEffect)(()=>(!N&&h&&window.docusaurus.prefetch(j),()=>{N&&x&&x.disconnect()}),[j,N,h]);const A=null!==(t=null==j?void 0:j.startsWith("#"))&&void 0!==t&&t,E=!j||!h||A;return j&&h&&!A&&!f&&y.collectLink(j),E?i.a.createElement("a",Object.assign({href:j},!h&&{target:"_blank",rel:"noopener noreferrer"},m)):i.a.createElement(C,Object.assign({},m,{onMouseEnter:()=>{g.current||(window.docusaurus.preload(j),g.current=!0)},innerRef:e=>{var t,r;N&&e&&h&&(t=e,r=()=>{window.docusaurus.prefetch(j)},x=new window.IntersectionObserver(e=>{e.forEach(e=>{t===e.target&&(e.isIntersecting||e.intersectionRatio>0)&&(x.unobserve(t),x.disconnect(),r())})}),x.observe(t))},to:j||""},r&&{activeClassName:b}))}},235:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(0),i=r.n(n),a=r(46),o=r.n(a);function c({children:e}){return i.a.createElement("div",{className:o.a.root},e)}},236:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(234),i=r(0),a=r.n(i),o=r(232),c=r(47),s=r.n(c);function l({title:e,description:t,link:r}){return a.a.createElement("div",{className:Object(o.a)("card-demo",s.a.root)},a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"card__header"},a.a.createElement("h3",null,e)),a.a.createElement("div",{className:"card__body"},a.a.createElement("p",null,t)),a.a.createElement("div",{className:"card__footer"},a.a.createElement(n.a,{className:"button button--secondary button--block",to:r},"Get Started"))))}}}]);