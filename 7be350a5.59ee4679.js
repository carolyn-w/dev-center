(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{137:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return r})),a.d(t,"metadata",(function(){return c})),a.d(t,"rightToc",(function(){return l})),a.d(t,"default",(function(){return s}));var o=a(1),n=a(9),i=(a(0),a(289)),r={},c={id:"web/snippets/prereqs-layout-config-editing",title:"prereqs-layout-config-editing",description:"-   Follow along by setting up the [Geocortex Web SDK](../sdk-overview.mdx) and editing the minimal layout and app config provided.",source:"@site/docs/web/snippets/prereqs-layout-config-editing.mdx",permalink:"/docs/web/snippets/prereqs-layout-config-editing",editUrl:"https://github.com/geocortex/dev-center/edit/master/docs/web/snippets/prereqs-layout-config-editing.mdx"},l=[],p={rightToc:l};function s(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(i.b)("wrapper",Object(o.a)({},p,a,{components:t,mdxType:"MDXLayout"}),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Follow along by setting up the ",Object(i.b)("a",Object(o.a)({parentName:"li"},{href:"/docs/web/sdk-overview"}),"Geocortex Web SDK")," and editing the minimal layout and app config provided."),Object(i.b)("li",{parentName:"ul"},"Check out the ",Object(i.b)("a",Object(o.a)({parentName:"li"},{href:"/docs/web/sdk-deployment#modifying-layout-and-app-config-using-the-geocortex-web-designer"}),"deployment instructions")," to learn about how to deploy layout and app config to an application.")))}s.isMDXComponent=!0},142:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return r})),a.d(t,"metadata",(function(){return c})),a.d(t,"rightToc",(function(){return l})),a.d(t,"default",(function(){return s}));var o=a(1),n=a(9),i=(a(0),a(289)),r={},c={id:"snippets/workflow-url",title:"workflow-url",description:'<div class="alert alert--secondary" role="alert">',source:"@site/docs/snippets/workflow-url.mdx",permalink:"/docs/snippets/workflow-url",editUrl:"https://github.com/geocortex/dev-center/edit/master/docs/snippets/workflow-url.mdx"},l=[],p={rightToc:l};function s(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(i.b)("wrapper",Object(o.a)({},p,a,{components:t,mdxType:"MDXLayout"}),Object(i.b)("div",{class:"alert alert--secondary",role:"alert"},"https://apps.geocortex.com/workflow/designer/#workflow=",Object(i.b)("b",null,"44010fc421dd4659b74fb921e09ba594")),Object(i.b)("br",null))}s.isMDXComponent=!0},229:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return d})),a.d(t,"metadata",(function(){return u})),a.d(t,"rightToc",(function(){return f})),a.d(t,"default",(function(){return w}));var o=a(1),n=a(9),i=(a(0),a(289)),r=a(313),c=a(312),l=a(310),p=a(298),s=a(299),m=a(137),b=a(142),d={title:"Run a Workflow from App Config",description:"Geocortex Web - Learn how to run a workflow using app config and layout"},u={id:"web/tutorial-run-workflow-app-config",title:"Run a Workflow from App Config",description:"Geocortex Web - Learn how to run a workflow using app config and layout",source:"@site/docs/web/tutorial-run-workflow-app-config.mdx",permalink:"/docs/web/tutorial-run-workflow-app-config",editUrl:"https://github.com/geocortex/dev-center/edit/master/docs/web/tutorial-run-workflow-app-config.mdx",sidebar:"web",previous:{title:"Customize the Theme",permalink:"/docs/web/tutorial-customize-application-theme"},next:{title:"Display a Custom Form",permalink:"/docs/web/tutorial-display-custom-form"}},f=[{value:"Prerequisites",id:"prerequisites",children:[]},{value:"Next Steps",id:"next-steps",children:[]}],h={rightToc:f};function w(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(i.b)("wrapper",Object(o.a)({},h,a,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Many components have default behaviors which can be ",Object(i.b)("a",Object(o.a)({parentName:"p"},{href:"/docs/web/tutorial-change-default-behavior"}),"configured through the app config JSON"),". Any configurable property which takes a ",Object(i.b)("a",Object(o.a)({parentName:"p"},{href:"/docs/web/configuration-commands-operations"}),"command or operation")," as its value can also be configured with a special command, ",Object(i.b)("inlineCode",{parentName:"p"},"workflow.run"),". By using the ",Object(i.b)("inlineCode",{parentName:"p"},"workflow.run")," command, you can even execute a ",Object(i.b)("a",Object(o.a)({parentName:"p"},{href:"https://docs.geocortex.com/workflow/latest/help/Default.htm#wf5/help/geocortex-workflow.htm#Introduction_to_Geocortex_Workflow%3FTocPath%3D%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520Introduction%2520to%2520Geocortex%2520Workflow%7C_____0"}),"workflow")," with completely configurable behavior."),Object(i.b)("p",null,"In this article, we can configure a workflow to run when the map is initialized."),Object(i.b)("div",{className:"admonition admonition-important alert alert--info"},Object(i.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(o.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(o.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(o.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"important")),Object(i.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"Configuring a workflow to run when the map is initialized can be done through ",Object(i.b)("a",Object(o.a)({parentName:"p"},{href:"https://apps.geocortex.com/webviewer/designer/"}),"Geocortex Web Designer")," and this is the preferred method of configurable if Designer can be used. The goal of this article is to demonstrate the pattern of overriding behaviors with workflows."))),Object(i.b)("h2",{id:"prerequisites"},"Prerequisites"),Object(i.b)(m.default,{mdxType:"PrereqsLayoutConfigSnippet"})," ",Object(i.b)("p",null,"First, let's create a basic map using the layout and app config."),Object(i.b)(r.a,{defaultValue:"layout",values:[{label:"Layout",value:"layout"},{label:"App Config",value:"config"}],mdxType:"Tabs"},Object(i.b)(c.a,{value:"config",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-json",metastring:'title="app/app.json"',title:'"app/app.json"'}),'{\n    "schemaVersion": "1.0",\n    "items": []\n}\n'))),Object(i.b)(c.a,{value:"layout",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-xml",metastring:'title="app/layout.xml"',title:'"app/layout.xml"'}),'<?xml version="1.0" encoding="UTF-8"?>\n<layout xmlns="https://geocortex.com/layout/v1" xmlns:custom="your.custom.namespace">\n    <map/>\n</layout>\n')))),Object(i.b)("p",null,"Next, add a ",Object(i.b)("a",Object(o.a)({parentName:"p"},{href:"/docs/web/configuration-app-config-getting-started#anatomy-of-an-app-config"}),"app item")," to the configuration for the map component, and configure the map to run ",Object(i.b)("inlineCode",{parentName:"p"},"ui.display-notification")," on initialization as a test."),Object(i.b)(r.a,{defaultValue:"config",values:[{label:"App Config",value:"config"},{label:"Layout",value:"layout"}],mdxType:"Tabs"},Object(i.b)(c.a,{value:"config",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-json",metastring:'title="app/app.json"',title:'"app/app.json"'}),'{\n    "schemaVersion": "1.0",\n    "items": [\n        {\n            "id": "map-config",\n            "$type": "map-extension",\n            "onInitialized": [\n                {\n                    "name": "ui.display-notification",\n                    "arguments": {\n                        "message": "Map initialized"\n                    }\n                }\n            ]\n        }\n    ]\n}\n'))),Object(i.b)(c.a,{value:"layout",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-xml",metastring:'title="app/layout.xml"',title:'"app/layout.xml"'}),'<?xml version="1.0" encoding="UTF-8"?>\n<layout xmlns="https://geocortex.com/layout/v1" xmlns:custom="your.custom.namespace">\n    <map config="map-config"/>\n</layout>\n')))),Object(i.b)("p",null,"The next step is going to be replacing the ",Object(i.b)("inlineCode",{parentName:"p"},"ui.display-notification")," command with a ",Object(i.b)("inlineCode",{parentName:"p"},"workflow.run-*")," command. First, we need to create a workflow to use for the command."),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"Open up ",Object(i.b)("a",Object(o.a)({parentName:"li"},{href:"https://apps.geocortex.com/workflow/designer/"}),"Geocortex Workflow Designer")," and create and save a new workflow.")),Object(i.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(i.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(o.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(o.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(i.b)("path",Object(o.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(i.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",null,"Optionally, you can"," ",Object(i.b)("a",{href:Object(l.a)("workflows/run-workflow-app-config.json"),download:"run-workflow-app-config.json"},"download this example workflow")," ","that displays an alert and then"," ",Object(i.b)("a",{href:"https://docs.geocortex.com/workflow/latest/help/Default.htm#wf5/help/import-export-workflows.htm",target:"_blank"},"import it into workflow designer.")))),Object(i.b)("ol",{start:2},Object(i.b)("li",{parentName:"ol"},'Add an "Alert" activity as a test.'),Object(i.b)("li",{parentName:"ol"},"Copy the ID of the the workflow from the URL")),Object(i.b)(b.default,{mdxType:"WorkflowUrlSnippet"}),Object(i.b)("ol",{start:4},Object(i.b)("li",{parentName:"ol"},"Add the workflow as an app item to your app config.")),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-json",metastring:'title="app/app.json"',title:'"app/app.json"'}),'{\n    "schemaVersion": "1.0",\n    "items": [\n        {\n            "id": "map-config",\n            "$type": "map-extension",\n            "onInitialized": [\n                {\n                    "name": "ui.display-notification",\n                    "arguments": {\n                        "message": "Map initialized"\n                    }\n                }\n            ]\n        },\n        // highlight-start\n        {\n            "$type": "workflow",\n            "id": "map-initialized-workflow",\n            "title": "Map Initialized Workflow",\n            "commandArgumentInput": "context",\n            "portalItem": "<your-workflow-id-here>"\n        }\n        // highlight-end\n    ]\n}\n')),Object(i.b)("p",null,"Finally, you can configure the map to run this workflow on initialization."),Object(i.b)(r.a,{defaultValue:"config",values:[{label:"App Config",value:"config"},{label:"Layout",value:"layout"},{label:"UI",value:"ui"}],mdxType:"Tabs"},Object(i.b)(c.a,{value:"config",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-json",metastring:'title="app/app.json"',title:'"app/app.json"'}),'{\n    "schemaVersion": "1.0",\n    "items": [\n        {\n            "id": "map-config",\n            "$type": "map-extension",\n            "onInitialized": [\n                // highlight-start\n                {\n                    "name": "workflow.run",\n                    "arguments": {\n                        "id": "map-initialized-workflow"\n                    }\n                }\n                // highlight-end\n            ]\n        },\n        {\n            "$type": "workflow",\n            "id": "map-initialized-workflow",\n            "title": "Map Initialized Workflow",\n            "commandArgumentInput": "context",\n            "portalItem": "<your-workflow-id-here>"\n        }\n    ]\n}\n'))),Object(i.b)(c.a,{value:"layout",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-xml",metastring:'title="app/layout.xml"',title:'"app/layout.xml"'}),'<?xml version="1.0" encoding="UTF-8"?>\n<layout xmlns="https://geocortex.com/layout/v1" xmlns:custom="your.custom.namespace">\n    <map config="map-config"/>\n</layout>\n'))),Object(i.b)(c.a,{value:"ui",mdxType:"TabItem"},Object(i.b)("img",{src:Object(l.a)("img/web-workflow-app-config-demo.png")}))),Object(i.b)("p",null,"You've now successfully customized behavior through the app config with a workflow. From this point, you could develop the workflow further to solve your business case."),Object(i.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(i.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(o.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(o.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(i.b)("path",Object(o.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(i.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"For a more in depth example, check out the tutorial on ",Object(i.b)("a",Object(o.a)({parentName:"p"},{href:"/docs/web/tutorial-change-default-map-click-behavior"}),"overriding default map click behavior with a workflow"),"."))),Object(i.b)("h2",{id:"next-steps"},"Next Steps"),Object(i.b)(p.a,{mdxType:"UseCaseContainer"},Object(i.b)(s.a,{title:"Build a Custom Form",description:"Learn how to build a custom form with Geocortex Workflow",link:"https://docs.geocortex.com/workflow/latest/help/Default.htm#wf5/help/forms.htm",mdxType:"UseCaseCard"}),Object(i.b)(s.a,{title:"Implement a Custom Activity",description:"Learn how to implement a custom activity with the Geocortex Workflow SDK",link:"tutorial-implement-custom-activity",mdxType:"UseCaseCard"}),Object(i.b)(s.a,{title:"Implement a Custom Form Element",description:"Learn how to implement a custom form element with the Geocortex Workflow SDK",link:"tutorial-implement-custom-form-elements",mdxType:"UseCaseCard"}),Object(i.b)(s.a,{title:"Change Geocortex Web's Default Map Click Behavior",description:"Learn how to Geocortex Workflow to override Geocortex Web's default map click behavior",link:"tutorial-change-default-map-click-behavior",mdxType:"UseCaseCard"})))}w.isMDXComponent=!0},298:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var o=a(0),n=a.n(o),i=a(290),r=a.n(i),c=a(130),l=a.n(c);function p(e){var t=e.children;return n.a.createElement("div",{className:r()(l.a.root)},t)}},299:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a(300);var o=a(296),n=a(0),i=a.n(n),r=a(290),c=a.n(r),l=a(131),p=a.n(l);function s(e){var t=e.title,a=e.description,n=e.link;return i.a.createElement("div",{className:c()("card-demo",p.a.root)},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card__header"},i.a.createElement("h3",null,t)),i.a.createElement("div",{className:"card__body"},i.a.createElement("p",null,a)),i.a.createElement("div",{className:"card__footer"},i.a.createElement(o.a,{className:"button button--secondary button--block",to:n},"Get Started"))))}}}]);