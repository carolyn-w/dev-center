(window.webpackJsonp=window.webpackJsonp||[]).push([[111,76],{185:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return p})),n.d(t,"metadata",(function(){return m})),n.d(t,"rightToc",(function(){return b})),n.d(t,"default",(function(){return v}));var r=n(2),a=(n(0),n(229)),i=n(239),o=n(240),s=n(230),c=n(235),l=n(236),u=n(50);const p={title:"Create a Service",description:"Geocortex Mobile - Create a service using the Geocortex Mobile SDK Quickstart"},m={unversionedId:"mobile/sdk-services-create",id:"mobile/sdk-services-create",isDocsHomePage:!1,title:"Create a Service",description:"Geocortex Mobile - Create a service using the Geocortex Mobile SDK Quickstart",source:"@site/docs/mobile/sdk-services-create.mdx",slug:"/mobile/sdk-services-create",permalink:"/docs/mobile/sdk-services-create",editUrl:"https://github.com/geocortex/dev-center/edit/master/docs/mobile/sdk-services-create.mdx",version:"current",sidebar:"mobile",previous:{title:"Services Overview",permalink:"/docs/mobile/sdk-services-overview"},next:{title:"Service Reference",permalink:"/docs/mobile/sdk-services-reference"}},b=[{value:"Prerequisites",id:"prerequisites",children:[]},{value:"Basic Service",id:"basic-service",children:[]},{value:"Create a Custom Command",id:"create-a-custom-command",children:[]},{value:"Relevant SDK Samples",id:"relevant-sdk-samples",children:[]},{value:"Next Steps",id:"next-steps",children:[]}],d={rightToc:b};function v({components:e,...t}){return Object(a.b)("wrapper",Object(r.a)({},d,t,{components:e,mdxType:"MDXLayout"}),Object(a.b)("div",{className:"admonition admonition-important alert alert--info"},Object(a.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-heading"}),Object(a.b)("h5",{parentName:"div"},Object(a.b)("span",Object(r.a)({parentName:"h5"},{className:"admonition-icon"}),Object(a.b)("svg",Object(r.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(a.b)("path",Object(r.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"important")),Object(a.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-content"}),Object(a.b)("p",{parentName:"div"},"This tutorial assumes you are using windows and can run the Universal Windows Version of Geocortex Mobile."))),Object(a.b)("p",null,"Sometimes, you may have logic or data that needs to be shared by multiple components across an app. In Geocortex Mobile, ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/mobile/sdk-services-overview"}),"services")," are shared singletons that can register global ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/mobile/configuration-commands-operations"}),"commands and operations"),", be injected into components, run background tasks, and more."),Object(a.b)("h2",{id:"prerequisites"},"Prerequisites"),Object(a.b)(u.default,{mdxType:"QuickstartPrereqsSnippet"}),Object(a.b)("h2",{id:"basic-service"},"Basic Service"),Object(a.b)("p",null,"Create a new file ",Object(a.b)("inlineCode",{parentName:"p"},"services/CustomService.cs")," under the platform agnostic project.\nIn the file, add a new service class ",Object(a.b)("inlineCode",{parentName:"p"},"CustomService")," and register it with Geocortex Mobile using an assembly attribute."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-cs",metastring:'title="App1/App1/services/CustomService.cs',title:'"App1/App1/services/CustomService.cs'}),"using App1.Services;\nusing VertiGIS.Mobile.Composition;\nusing VertiGIS.Mobile.Composition.Services;\nusing System.Threading.Tasks;\n\n[assembly: Service(typeof(CustomService))]\nnamespace App1.Services\n{\n    class CustomService : ServiceBase\n    {\n        public CustomService()\n            :base()\n        {\n        }\n    }\n}\n")),Object(a.b)("h2",{id:"create-a-custom-command"},"Create a Custom Command"),Object(a.b)("p",null,"Custom Services can register custom commands and operations. The following example shows how a custom service can register a command with the ",Object(a.b)("inlineCode",{parentName:"p"},"Operations Registry"),", and how that command can be configured to run on a button press using layout and app config."),Object(a.b)(i.a,{defaultValue:"service",values:[{label:"Service",value:"service"},{label:"Layout",value:"layout"},{label:"App Config",value:"config"},{label:"User Interface",value:"ui"}],mdxType:"Tabs"},Object(a.b)(o.a,{value:"service",mdxType:"TabItem"},Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-cs",metastring:'title="App1/App1/services/CustomService.cs',title:'"App1/App1/services/CustomService.cs'}),'using App1.Services;\nusing VertiGIS.Mobile.Composition;\nusing VertiGIS.Mobile.Composition.Messaging;\nusing VertiGIS.Mobile.Composition.Services;\nusing System.Threading.Tasks;\n\n[assembly: Service(typeof(CustomService))]\nnamespace App1.Services\n{\n    public class CustomService : ServiceBase\n    {\n        public CustomService(IOperationRegistry operationRegistry)\n            : base()\n        {\n            // highlight-start\n            operationRegistry.VoidOperation<string>("custom.alert").RegisterExecute((string customMessage) =>\n            {\n                return Xamarin.Forms.Application.Current.MainPage.DisplayAlert("Custom Alert", customMessage, "Cancel");\n            }, this);\n            // highlight-end\n\n        }\n    }\n}\n'))),Object(a.b)(o.a,{value:"layout",mdxType:"TabItem"},Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-xml",metastring:'title="App1/App1/layout-large.xml"',title:'"App1/App1/layout-large.xml"'}),'<?xml version="1.0" encoding="utf-8" ?>\n<layout\n    xmlns="https://geocortex.com/layout/v1"\n    xmlns:gxm="https://geocortex.com/layout/mobile/v1"\n    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n    xsi:schemaLocation="https://geocortex.com/layout/v1 ../../ViewerSpec/layout/layout-mobile.xsd">\n    <map id="map1" >\n        // highlight-next-line\n        <button id="custom-alert" config="custom-alert" style="map-widget" show-title="true" margin="0.3" slot="top-center"/>\n    </map>\n</layout>\n\n'))),Object(a.b)(o.a,{value:"config",mdxType:"TabItem"},Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-json",metastring:'title="App1/App1/app.json"',title:'"App1/App1/app.json"'}),'{\n    "$schema": "..\\\\..\\\\ViewerFramework\\\\app-config\\\\mobile\\\\mobile-app-config.schema.json",\n    "schemaVersion": "1.0",\n    "items": [\n        {\n            "id": "desktop-layout",\n            "$type": "layout",\n            "url": "resource://layout-large.xml",\n            "tags": ["medium", "large"]\n        },\n        // highlight-start\n        {\n            "id": "custom-alert",\n            "iconId": "warning",\n            "title": "Custom Alert",\n            "action": {\n                "name": "custom.alert",\n                "arguments": "My Custom Message"\n            },\n            "$type": "menu-item"\n        }\n        // highlight-end\n    ]\n}\n'))),Object(a.b)(o.a,{value:"ui",mdxType:"TabItem"},Object(a.b)("img",{src:Object(s.a)("img/mobile-sdk-services-create.png"),alt:"Custom Component with Text Block"}))),Object(a.b)("h2",{id:"relevant-sdk-samples"},"Relevant SDK Samples"),Object(a.b)("p",null,"Check out the relevant Geocortex Mobile SDK Samples:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/geocortex/vertigis-mobile-samples/tree/master/Geocortex.Mobile.Samples/Geocortex.Mobile.Samples/Samples/Custom/Service"}),"Custom Service"))),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/geocortex/vertigis-mobile-samples/tree/master/Geocortex.Mobile.Samples/Geocortex.Mobile.Samples/Samples/CustomSamples/BasemapToggle"}),"Basemap Toggle that uses a Custom Service"))),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/geocortex/vertigis-mobile-samples/tree/master/Geocortex.Mobile.Samples/Geocortex.Mobile.Samples/Samples/CustomSamples/BreadCrumbs"}),"Breadcrumb Tracker that Uses a Custom Service")))),Object(a.b)("h2",{id:"next-steps"},"Next Steps"),Object(a.b)(c.a,{mdxType:"UseCaseContainer"},Object(a.b)(l.a,{title:"Learn More About Services",description:"Take a deep dive into services in the Geocortex Mobile SDK",link:Object(s.a)("docs/mobile/sdk-services-reference"),mdxType:"UseCaseCard"}),Object(a.b)(l.a,{title:"Build a Service that Manages Dynamic Data",description:"Built a service that manages a dynamic data source and exposes it to components",link:Object(s.a)("docs/mobile/tutorial-implement-service-fetch-dynamic-data"),mdxType:"UseCaseCard"})))}v.isMDXComponent=!0},229:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d}));var r=n(0),a=n.n(r);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=a.a.createContext({}),u=function(e){var t=a.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=u(e.components);return a.a.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},b=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),p=u(n),b=r,d=p["".concat(o,".").concat(b)]||p[b]||m[b]||i;return n?a.a.createElement(d,s(s({ref:t},l),{},{components:n})):a.a.createElement(d,s({ref:t},l))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=b;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var l=2;l<i;l++)o[l]=n[l];return a.a.createElement.apply(null,o)}return a.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"},230:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(233),a=n(231);function i(){const{siteConfig:{baseUrl:e="/",url:t}={}}=Object(r.a)();return{withBaseUrl:(n,r)=>function(e,t,n,{forcePrependBaseUrl:r=!1,absolute:i=!1}={}){if(!n)return n;if(n.startsWith("#"))return n;if(Object(a.b)(n))return n;if(r)return t+n;const o=n.startsWith(t)?n:t+n.replace(/^\//,"");return i?e+o:o}(t,e,n,r)}}function o(e,t={}){const{withBaseUrl:n}=i();return n(e,t)}},231:function(e,t,n){"use strict";function r(e){return!0===/^(\w*:|\/\/)/.test(e)}function a(e){return void 0!==e&&!r(e)}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}))},232:function(e,t,n){"use strict";function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}t.a=function(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}},233:function(e,t,n){"use strict";var r=n(0),a=n(19);t.a=function(){const e=Object(r.useContext)(a.a);if(null===e)throw new Error("Docusaurus context not provided");return e}},234:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(13),o=n(231),s=n(8);const c=Object(r.createContext)({collectLink:()=>{}});var l=n(230),u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};t.a=function(e){var t,{isNavLink:n,to:p,href:m,activeClassName:b,"data-noBrokenLinkCheck":d}=e,v=u(e,["isNavLink","to","href","activeClassName","data-noBrokenLinkCheck"]);const{withBaseUrl:f}=Object(l.b)(),g=Object(r.useContext)(c),h=p||m,O=Object(o.a)(h),j=null==h?void 0:h.replace("pathname://",""),y=void 0!==j?(e=>e.startsWith("/"))(x=j)?f(x):x:void 0;var x;const w=Object(r.useRef)(!1),C=n?i.e:i.c,S=s.a.canUseIntersectionObserver;let k;Object(r.useEffect)(()=>(!S&&O&&window.docusaurus.prefetch(y),()=>{S&&k&&k.disconnect()}),[y,S,O]);const N=null!==(t=null==y?void 0:y.startsWith("#"))&&void 0!==t&&t,M=!y||!O||N;return y&&O&&!N&&!d&&g.collectLink(y),M?a.a.createElement("a",Object.assign({href:y},!O&&{target:"_blank",rel:"noopener noreferrer"},v)):a.a.createElement(C,Object.assign({},v,{onMouseEnter:()=>{w.current||(window.docusaurus.preload(y),w.current=!0)},innerRef:e=>{var t,n;S&&e&&O&&(t=e,n=()=>{window.docusaurus.prefetch(y)},k=new window.IntersectionObserver(e=>{e.forEach(e=>{t===e.target&&(e.isIntersecting||e.intersectionRatio>0)&&(k.unobserve(t),k.disconnect(),n())})}),k.observe(t))},to:y||""},n&&{activeClassName:b}))}},235:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),a=n.n(r),i=n(46),o=n.n(i);function s({children:e}){return a.a.createElement("div",{className:o.a.root},e)}},236:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(234),a=n(0),i=n.n(a),o=n(232),s=n(47),c=n.n(s);function l({title:e,description:t,link:n}){return i.a.createElement("div",{className:Object(o.a)("card-demo",c.a.root)},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card__header"},i.a.createElement("h3",null,e)),i.a.createElement("div",{className:"card__body"},i.a.createElement("p",null,t)),i.a.createElement("div",{className:"card__footer"},i.a.createElement(r.a,{className:"button button--secondary button--block",to:n},"Get Started"))))}},237:function(e,t,n){"use strict";var r=n(0);const a=Object(r.createContext)(void 0);t.a=a},238:function(e,t,n){"use strict";var r=n(0),a=n(237);t.a=function(){const e=Object(r.useContext)(a.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},239:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(238),o=n(232),s=n(48),c=n.n(s);const l=37,u=39;t.a=function(e){const{block:t,children:n,defaultValue:s,values:p,groupId:m}=e,{tabGroupChoices:b,setTabGroupChoices:d}=Object(i.a)(),[v,f]=Object(r.useState)(s),[g,h]=Object(r.useState)(!1);if(null!=m){const e=b[m];null!=e&&e!==v&&p.some(t=>t.value===e)&&f(e)}const O=e=>{f(e),null!=m&&d(m,e)},j=[],y=e=>{e.metaKey||e.altKey||e.ctrlKey||h(!0)},x=()=>{h(!1)};return Object(r.useEffect)(()=>{window.addEventListener("keydown",y),window.addEventListener("mousedown",x)},[]),a.a.createElement("div",null,a.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(o.a)("tabs",{"tabs--block":t})},p.map(({value:e,label:t})=>a.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":v===e,className:Object(o.a)("tabs__item",c.a.tabItem,{"tabs__item--active":v===e}),style:g?{}:{outline:"none"},key:e,ref:e=>j.push(e),onKeyDown:e=>{((e,t,n)=>{switch(n.keyCode){case u:((e,t)=>{const n=e.indexOf(t)+1;e[n]?e[n].focus():e[0].focus()})(e,t);break;case l:((e,t)=>{const n=e.indexOf(t)-1;e[n]?e[n].focus():e[e.length-1].focus()})(e,t)}})(j,e.target,e),y(e)},onFocus:()=>O(e),onClick:()=>{O(e),h(!1)},onPointerDown:()=>h(!1)},t))),a.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},r.Children.toArray(n).filter(e=>e.props.value===v)[0]))}},240:function(e,t,n){"use strict";var r=n(0),a=n.n(r);t.a=function(e){return a.a.createElement("div",null,e.children)}},50:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return o})),n.d(t,"rightToc",(function(){return s})),n.d(t,"default",(function(){return l}));var r=n(2),a=(n(0),n(229));const i={},o={unversionedId:"mobile/snippets/quickstart-prereqs",id:"mobile/snippets/quickstart-prereqs",isDocsHomePage:!1,title:"quickstart-prereqs",description:"Check out and setup the Geocortex Mobile SDK Quickstart project.",source:"@site/docs/mobile/snippets/quickstart-prereqs.mdx",slug:"/mobile/snippets/quickstart-prereqs",permalink:"/docs/mobile/snippets/quickstart-prereqs",editUrl:"https://github.com/geocortex/dev-center/edit/master/docs/mobile/snippets/quickstart-prereqs.mdx",version:"current"},s=[],c={rightToc:s};function l({components:e,...t}){return Object(a.b)("wrapper",Object(r.a)({},c,t,{components:e,mdxType:"MDXLayout"}),Object(a.b)("p",null,"Check out and setup the ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/mobile/sdk-overview"}),"Geocortex Mobile SDK Quickstart project"),"."))}l.isMDXComponent=!0}}]);