(window.webpackJsonp=window.webpackJsonp||[]).push([[16,68,81,140],{128:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return r})),n.d(t,"default",(function(){return d}));var a=n(2),o=n(9),c=(n(0),n(295)),i={},s={id:"web/snippets/prereqs-custom-code",title:"prereqs-custom-code",description:"-   Download and setup the Geocortex Web SDK.",source:"@site/docs/web/snippets/prereqs-custom-code.mdx",permalink:"/docs/web/snippets/prereqs-custom-code",editUrl:"https://github.com/geocortex/dev-center/edit/master/docs/web/snippets/prereqs-custom-code.mdx"},r=[],m={rightToc:r};function d(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(c.b)("wrapper",Object(a.a)({},m,n,{components:t,mdxType:"MDXLayout"}),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"Download and setup the ",Object(c.b)("a",Object(a.a)({parentName:"li"},{href:"/docs/web/sdk-overview"}),"Geocortex Web SDK"),"."),Object(c.b)("li",{parentName:"ul"},"Check out the ",Object(c.b)("a",Object(a.a)({parentName:"li"},{href:"/docs/web/sdk-deployment#uploading-custom-code-to-an-app"}),"deployment instructions")," to learn more about deploying custom code to a Geocortex Web App.")))}d.isMDXComponent=!0},132:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return r})),n.d(t,"default",(function(){return d}));var a=n(2),o=n(9),c=(n(0),n(295)),i={},s={id:"web/snippets/framework-components",title:"framework-components",description:"This example uses Geocortex Web layout components",source:"@site/docs/web/snippets/framework-components.mdx",permalink:"/docs/web/snippets/framework-components",editUrl:"https://github.com/geocortex/dev-center/edit/master/docs/web/snippets/framework-components.mdx"},r=[],m={rightToc:r};function d(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(c.b)("wrapper",Object(a.a)({},m,n,{components:t,mdxType:"MDXLayout"}),Object(c.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"This example uses Geocortex Web layout components"))))}d.isMDXComponent=!0},146:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return r})),n.d(t,"default",(function(){return d}));var a=n(2),o=n(9),c=(n(0),n(295)),i={},s={id:"web/snippets/can-execute",title:"can-execute",description:"Commands can optionally register a hook function which indicates whether it is possible to execute the command. This canExecute callback is passed as the second argument to the register function.",source:"@site/docs/web/snippets/can-execute.mdx",permalink:"/docs/web/snippets/can-execute",editUrl:"https://github.com/geocortex/dev-center/edit/master/docs/web/snippets/can-execute.mdx"},r=[],m={rightToc:r};function d(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(c.b)("wrapper",Object(a.a)({},m,n,{components:t,mdxType:"MDXLayout"}),Object(c.b)("p",null,"Commands can optionally register a hook function which indicates whether it is possible to execute the command. This ",Object(c.b)("inlineCode",{parentName:"p"},"canExecute")," callback is passed as the second argument to the ",Object(c.b)("inlineCode",{parentName:"p"},"register")," function."),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx"}),'this.messages.command<number>("custom.divide-ten-by-x").register(\n    (x: number) => {\n        this.messages.commands.ui.alert.execute({\n            message: `10 / ${x} is ${10 / x}`,\n        });\n    },\n    // highlight-start\n    (x: number) => {\n        return x !== 0;\n    }\n);\n// highlight-end\n')),Object(c.b)("p",null,"If the ",Object(c.b)("inlineCode",{parentName:"p"},"canExecute")," hook for the command implementation returns true, the ",Object(c.b)("inlineCode",{parentName:"p"},"execute")," hook will be called. If the function returns false, the ",Object(c.b)("inlineCode",{parentName:"p"},"execute")," hook will not be called. Some components, like the I Want To Menu, use the ",Object(c.b)("inlineCode",{parentName:"p"},"canExecute")," hook to disable buttons when no implementations of a command can be executed. This is accomplished through the ",Object(c.b)("inlineCode",{parentName:"p"},"canExecuteChanged")," event. This event can be published or subscribed to in order to react to changing command execution conditions."),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx"}),'this.messages\n    .command("custom.command-with-can-execute")\n    .canExecuteChanged.publish();\n\nthis.messages\n    .command("custom.command-with-can-execute")\n    .canExecuteChanged.subscribe(() => {\n        // .. react to can execute status changing\n    });\n')),Object(c.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(c.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"For a full example of a command with a dynamic execution status, ",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/web/tutorial-command-can-execute"}),"check out the ",Object(c.b)("inlineCode",{parentName:"a"},"canExecute")," tutorial"),", or ",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"https://vertigis-web-samples.netlify.app/commands-and-operations"}),"this live SDK sample"),"."))))}d.isMDXComponent=!0},171:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return p})),n.d(t,"metadata",(function(){return l})),n.d(t,"rightToc",(function(){return b})),n.d(t,"default",(function(){return g}));var a=n(2),o=n(9),c=(n(0),n(295)),i=n(302),s=n(298),r=n(297),m=n(301),d=n(300),u=(n(128),n(132),n(146)),p={title:"Commands and Operations in Services",description:"Geocortex Web - Learn how to implement and run commands and operations in services"},l={id:"web/sdk-services-commands-operations",title:"Commands and Operations in Services",description:"Geocortex Web - Learn how to implement and run commands and operations in services",source:"@site/docs/web/sdk-services-commands-operations.mdx",permalink:"/docs/web/sdk-services-commands-operations",editUrl:"https://github.com/geocortex/dev-center/edit/master/docs/web/sdk-services-commands-operations.mdx",sidebar:"web",previous:{title:"Service Reference",permalink:"/docs/web/sdk-services-reference"},next:{title:"Service Injection",permalink:"/docs/web/sdk-services-injecting-services"}},b=[{value:"Running Commands and Operations",id:"running-commands-and-operations",children:[]},{value:"Implementing Commands and Operations",id:"implementing-commands-and-operations",children:[{value:"<code>canExecute</code> Hook",id:"canexecute-hook",children:[]}]},{value:"Running Custom Commands",id:"running-custom-commands",children:[]},{value:"Next Steps",id:"next-steps",children:[]}],h={rightToc:b};function g(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(c.b)("wrapper",Object(a.a)({},h,n,{components:t,mdxType:"MDXLayout"}),Object(c.b)("p",null,"When writing custom services you may want to take advantage of Geocortex Web's large ",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/web/api-commands-operations-events"}),"built-in suite of command and operations")," or your own custom commands and operations."),Object(c.b)("h2",{id:"running-commands-and-operations"},"Running Commands and Operations"),Object(c.b)("p",null,"Services can run commands and operations through the ",Object(c.b)("inlineCode",{parentName:"p"},"messages")," property."),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'export default class ExampleService extends ServiceBase {\n    protected async someMethod(): Promise<void> {\n        // highlight-next-line\n        const { commands, command, operations, operation } = this.messages;\n\n        // Execute a named, built-in, command.\n        commands.ui.setTheme.execute("dark");\n\n        // Execute a custom command by it\'s string ID. If you are executing\n        // a custom command with arguments, you must provide the correct generic typings.\n        command<string>("my-custom.command-that-takes-a-string").execute(\n            "some arg"\n        );\n\n        // Execute a named, built-in, operation.\n        const opResult = await operations.ui.confirm.execute({\n            message: "hey",\n        });\n\n        // Execute a custom operation by it\'s string ID.\n        // You must provide the correct generic typings <input, output>.\n        const customOpResult = await operation<string, boolean>(\n            "my-custom.operation-that-returns-a-bool"\n        ).execute("some arg");\n\n        return;\n    }\n}\n')),Object(c.b)("h2",{id:"implementing-commands-and-operations"},"Implementing Commands and Operations"),Object(c.b)("p",null,"Services can also register an implementation for a command or operation. A command or operation is registered using the ID of the service and the name of the method on the service that will be called. The following service registers an implementation for an operation that returns a custom type."),Object(c.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"It's best practice to expose the arguments and return values for commands and operations as public interfaces, as this allows consumers of the command or operation to have the appropriate typing."))),Object(c.b)(m.a,{defaultValue:"service",values:[{label:"Service",value:"service"},{label:"Registration",value:"registration"}],mdxType:"Tabs"},Object(c.b)(d.a,{value:"registration",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'export default function (registry: LibraryRegistry) {\n    ...\n\n    registry.registerService({\n        id: "custom-service",\n        getServiceType: () => CustomService\n    });\n\n    registry.registerOperation("custom.my-operation", {\n        serviceId: "custom-service",\n        // highlight-next-line\n        executeMethodName: "_executeMyOperation",\n    });\n}\n'))),Object(c.b)(d.a,{value:"service",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"export interface CustomCommandArg {\n    someProp: string;\n}\n\nexport default class ExampleService extends ServiceBase {\n    // highlight-next-line\n    protected _executeMyOperation(): Promise<CustomCommandArg> {\n        // ... do work here\n    }\n}\n")))),Object(c.b)("h3",{id:"canexecute-hook"},Object(c.b)("inlineCode",{parentName:"h3"},"canExecute")," Hook"),Object(c.b)(u.default,{mdxType:"CanExecuteSnippet"}),Object(c.b)("h2",{id:"running-custom-commands"},"Running Custom Commands"),Object(c.b)("p",null,"You can run the custom commands or operations you define from another component, model, or service by locating them by ID and providing the appropriate type arguments."),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'export default class ExampleService extends ServiceBase {\n    async runCustomCommandsAndOperations(){\n         // highlight-start\n        await this.messages.command<CustomCommandArg>("custom.my-command").execute({ someProp: "some arg" );\n        // highlight-end\n\n        // highlight-start\n        const result = await this.messages.operation<InputArgType, OutputArgType>("custom.my-operation").execute({\n            some: "arg",\n        });\n        // highlight-end\n        ...\n    }\n    ...\n}\n')),Object(c.b)("h2",{id:"next-steps"},"Next Steps"),Object(c.b)(r.a,{mdxType:"UseCaseContainer"},Object(c.b)(s.a,{title:"Learn about Service Interactions",description:"Learn about how services can directly interact through dependency injection",link:Object(i.a)("docs/web/sdk-services-injecting-services"),mdxType:"UseCaseCard"}),Object(c.b)(s.a,{title:"Build a Custom Command with a Custom Service",description:"Follow a step by step guide to building a custom command with a custom service",link:Object(i.a)("docs/web/tutorial-implement-command-operation"),mdxType:"UseCaseCard"})))}g.isMDXComponent=!0},297:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(0),o=n.n(a),c=n(296),i=n.n(c),s=n(125),r=n.n(s);function m(e){var t=e.children;return o.a.createElement("div",{className:i()(r.a.root)},t)}},298:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n(304);var a=n(303),o=n(0),c=n.n(o),i=n(296),s=n.n(i),r=n(126),m=n.n(r);function d(e){var t=e.title,n=e.description,o=e.link;return c.a.createElement("div",{className:s()("card-demo",m.a.root)},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card__header"},c.a.createElement("h3",null,t)),c.a.createElement("div",{className:"card__body"},c.a.createElement("p",null,n)),c.a.createElement("div",{className:"card__footer"},c.a.createElement(a.a,{className:"button button--secondary button--block",to:o},"Get Started"))))}},299:function(e,t,n){"use strict";var a=n(0),o=Object(a.createContext)({tabGroupChoices:{},setTabGroupChoices:function(){}});t.a=o},300:function(e,t,n){"use strict";var a=n(0),o=n.n(a);t.a=function(e){return o.a.createElement("div",null,e.children)}},301:function(e,t,n){"use strict";n(24),n(19),n(18);var a=n(0),o=n.n(a),c=n(299);var i=function(){return Object(a.useContext)(c.a)},s=n(296),r=n.n(s),m=n(127),d=n.n(m),u=37,p=39;t.a=function(e){var t=e.block,n=e.children,c=e.defaultValue,s=e.values,m=e.groupId,l=i(),b=l.tabGroupChoices,h=l.setTabGroupChoices,g=Object(a.useState)(c),v=g[0],O=g[1];if(null!=m){var j=b[m];null!=j&&j!==v&&O(j)}var x=function(e){O(e),null!=m&&h(m,e)},f=[];return o.a.createElement("div",null,o.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:r()("tabs",{"tabs--block":t})},s.map((function(e){var t=e.value,n=e.label;return o.a.createElement("li",{role:"tab",tabIndex:"0","aria-selected":v===t,className:r()("tabs__item",d.a.tabItem,{"tabs__item--active":v===t}),key:t,ref:function(e){return f.push(e)},onKeyDown:function(e){return function(e,t,n){switch(n.keyCode){case p:!function(e,t){var n=e.indexOf(t)+1;e[n]?e[n].focus():e[0].focus()}(e,t);break;case u:!function(e,t){var n=e.indexOf(t)-1;e[n]?e[n].focus():e[e.length-1].focus()}(e,t)}}(f,e.target,e)},onFocus:function(){return x(t)},onClick:function(){return x(t)}},n)}))),o.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},a.Children.toArray(n).filter((function(e){return e.props.value===v}))[0]))}}}]);